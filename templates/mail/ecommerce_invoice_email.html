<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Invoice ‚Äî Source Point</title>
</head>

<body
    style="margin:0; padding:0; background-color:#f0f2f5; font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Helvetica Neue',Arial,sans-serif; -webkit-text-size-adjust:100%;">

    <!-- Outer wrapper -->
    <table role="presentation" width="100%" cellspacing="0" cellpadding="0" style="background-color:#f0f2f5;">
        <tr>
            <td align="center" style="padding:40px 16px;">

                <!-- Card -->
                <table role="presentation" width="640" cellspacing="0" cellpadding="0"
                    style="max-width:640px; width:100%; background:#ffffff; border-radius:16px; overflow:hidden; box-shadow:0 4px 24px rgba(0,0,0,0.09);">

                    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê HEADER ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
                    <tr>
                        <td style="background:#ffffff; padding:28px 40px 22px 40px; border-bottom:1px solid #e8e8e8;">
                            <table role="presentation" width="100%" cellspacing="0" cellpadding="0">
                                <tr>
                                    <!-- Brand Logo Area -->
                                    <td valign="middle">
                                        <table role="presentation" cellspacing="0" cellpadding="0">
                                            <tr>
                                                <td valign="middle"
                                                    style="background:linear-gradient(135deg,#059669 0%,#10b981 100%); border-radius:10px; padding:10px 14px; margin-right:12px;">
                                                    <span
                                                        style="font-size:20px; font-weight:800; color:#ffffff; letter-spacing:-0.5px;">SP</span>
                                                </td>
                                                <td valign="middle" style="padding-left:12px;">
                                                    <div
                                                        style="font-size:20px; font-weight:700; color:#111827; letter-spacing:-0.3px;">
                                                        Source Point</div>
                                                    <div style="font-size:11px; color:#6b7280; margin-top:1px;">Your
                                                        Trusted Online Store</div>
                                                </td>
                                            </tr>
                                        </table>
                                    </td>
                                    <!-- Invoice badge -->
                                    <td align="right" valign="middle">
                                        <div
                                            style="display:inline-block; background:#f0fdf4; border:1.5px solid #86efac; border-radius:8px; padding:10px 18px; text-align:right;">
                                            <div
                                                style="font-size:11px; color:#16a34a; font-weight:600; text-transform:uppercase; letter-spacing:0.8px;">
                                                TAX INVOICE</div>
                                            <div
                                                style="font-size:17px; font-weight:700; color:#059669; margin-top:2px;">
                                                #{{ invoice.invoice_number }}</div>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>

                    <!-- Emerald accent stripe -->
                    <tr>
                        <td
                            style="background:linear-gradient(90deg,#059669 0%,#10b981 50%,#34d399 100%); height:4px; font-size:0; line-height:0;">
                            &nbsp;</td>
                    </tr>

                    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê ORDER CONFIRMATION BANNER ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
                    <tr>
                        <td style="background:#f0fdf4; padding:20px 40px; border-bottom:1px solid #d1fae5;">
                            <table role="presentation" width="100%" cellspacing="0" cellpadding="0">
                                <tr>
                                    <td valign="middle">
                                        <span style="font-size:22px; vertical-align:middle;">‚úÖ</span>
                                        <span
                                            style="font-size:17px; font-weight:600; color:#065f46; margin-left:8px; vertical-align:middle;">
                                            Order Confirmed! Thank you, {{ invoice.recipient_name }}.
                                        </span>
                                        <div style="font-size:13px; color:#047857; margin-top:6px; margin-left:30px;">
                                            Your invoice for Order <strong>#{{ invoice.order_id or
                                                invoice.invoice_number }}</strong>
                                            is attached below. We appreciate your purchase!
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>

                    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê META INFO STRIP ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
                    <tr>
                        <td style="background:#fafafa; padding:18px 40px; border-bottom:1px solid #e8e8e8;">
                            <table role="presentation" width="100%" cellspacing="0" cellpadding="0">
                                <tr>
                                    <!-- Invoice Date -->
                                    <td width="25%" style="border-right:1px solid #e5e7eb; padding-right:16px;">
                                        <div
                                            style="font-size:10px; color:#9ca3af; font-weight:600; text-transform:uppercase; letter-spacing:0.6px;">
                                            Invoice Date</div>
                                        <div style="font-size:13px; color:#111827; font-weight:600; margin-top:4px;">
                                            {{ invoice.created_at.strftime('%d %b %Y') if invoice.created_at else 'N/A'
                                            }}
                                        </div>
                                    </td>
                                    <!-- Due Date -->
                                    <td width="25%"
                                        style="border-right:1px solid #e5e7eb; padding-left:16px; padding-right:16px;">
                                        <div
                                            style="font-size:10px; color:#9ca3af; font-weight:600; text-transform:uppercase; letter-spacing:0.6px;">
                                            Due Date</div>
                                        <div style="font-size:13px; color:#111827; font-weight:600; margin-top:4px;">
                                            {{ invoice.due_date.strftime('%d %b %Y') if invoice.due_date else 'On
                                            Receipt' }}
                                        </div>
                                    </td>
                                    <!-- Status -->
                                    <td width="25%"
                                        style="border-right:1px solid #e5e7eb; padding-left:16px; padding-right:16px;">
                                        <div
                                            style="font-size:10px; color:#9ca3af; font-weight:600; text-transform:uppercase; letter-spacing:0.6px;">
                                            Status</div>
                                        <div style="margin-top:4px;">
                                            <span
                                                style="display:inline-block; background:#dcfce7; color:#15803d; font-size:11px; font-weight:700; padding:3px 10px; border-radius:20px; text-transform:uppercase; letter-spacing:0.5px;">
                                                {{ invoice.status | default('Processing') }}
                                            </span>
                                        </div>
                                    </td>
                                    <!-- Terms -->
                                    <td width="25%" style="padding-left:16px;">
                                        <div
                                            style="font-size:10px; color:#9ca3af; font-weight:600; text-transform:uppercase; letter-spacing:0.6px;">
                                            Payment Terms</div>
                                        <div style="font-size:13px; color:#111827; font-weight:600; margin-top:4px;">Due
                                            on Receipt</div>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>

                    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê BILL TO / SHIP TO ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
                    <tr>
                        <td style="padding:24px 40px; border-bottom:1px solid #e8e8e8;">
                            <table role="presentation" width="100%" cellspacing="0" cellpadding="0">
                                <tr>
                                    <!-- Bill To -->
                                    <td width="48%" valign="top"
                                        style="background:#fafafa; border:1px solid #e5e7eb; border-radius:10px; padding:16px 18px;">
                                        <div
                                            style="font-size:10px; color:#10b981; font-weight:700; text-transform:uppercase; letter-spacing:0.8px; margin-bottom:8px;">
                                            üìã Bill To
                                        </div>
                                        <div style="font-size:14px; font-weight:700; color:#111827;">{{
                                            invoice.recipient_name }}</div>
                                        <div style="font-size:13px; color:#6b7280; margin-top:4px; line-height:1.6;">
                                            {{ invoice.recipient_email }}<br>
                                            {% if invoice.bill_to_address %}
                                            {{ invoice.bill_to_address | replace('\n', '<br>') }}
                                            {% else %}
                                            ‚Äî
                                            {% endif %}
                                        </div>
                                    </td>
                                    <td width="4%"></td>
                                    <!-- Ship To -->
                                    <td width="48%" valign="top"
                                        style="background:#fafafa; border:1px solid #e5e7eb; border-radius:10px; padding:16px 18px;">
                                        <div
                                            style="font-size:10px; color:#10b981; font-weight:700; text-transform:uppercase; letter-spacing:0.8px; margin-bottom:8px;">
                                            üì¶ Ship To
                                        </div>
                                        <div style="font-size:14px; font-weight:700; color:#111827;">{{
                                            invoice.recipient_name }}</div>
                                        <div style="font-size:13px; color:#6b7280; margin-top:4px; line-height:1.6;">
                                            {% if invoice.ship_to_address %}
                                            {{ invoice.ship_to_address | replace('\n', '<br>') }}
                                            {% else %}
                                            Same as billing address
                                            {% endif %}
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>

                    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê ITEMS TABLE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
                    <tr>
                        <td style="padding:0 40px 0 40px;">

                            <div style="font-size:14px; font-weight:600; color:#374151; padding:20px 0 12px 0;">
                                Order Items
                            </div>

                            <!-- Table Header -->
                            <table role="presentation" width="100%" cellspacing="0" cellpadding="0"
                                style="border-radius:10px; overflow:hidden; border:1px solid #e5e7eb;">

                                <tr style="background:linear-gradient(90deg,#064e3b 0%,#065f46 100%);">
                                    <td width="4%"
                                        style="padding:12px 8px 12px 16px; font-size:11px; color:#a7f3d0; font-weight:700; text-transform:uppercase; letter-spacing:0.6px;">
                                        #</td>
                                    <td width="36%"
                                        style="padding:12px 8px; font-size:11px; color:#a7f3d0; font-weight:700; text-transform:uppercase; letter-spacing:0.6px;">
                                        Item &amp; Description</td>
                                    <td width="20%"
                                        style="padding:12px 8px; font-size:11px; color:#a7f3d0; font-weight:700; text-transform:uppercase; letter-spacing:0.6px;">
                                        SKU / Ref</td>
                                    <td width="10%"
                                        style="padding:12px 8px; font-size:11px; color:#a7f3d0; font-weight:700; text-transform:uppercase; letter-spacing:0.6px; text-align:center;">
                                        Qty</td>
                                    <td width="15%"
                                        style="padding:12px 8px; font-size:11px; color:#a7f3d0; font-weight:700; text-transform:uppercase; letter-spacing:0.6px; text-align:right;">
                                        Unit Price</td>
                                    <td width="15%"
                                        style="padding:12px 16px 12px 8px; font-size:11px; color:#a7f3d0; font-weight:700; text-transform:uppercase; letter-spacing:0.6px; text-align:right;">
                                        Subtotal</td>
                                </tr>

                                {% for item in invoice.items %}
                                <tr
                                    style="background:{% if loop.index is odd %}#ffffff{% else %}#f9fafb{% endif %}; border-top:1px solid #e5e7eb;">
                                    <!-- Row Number -->
                                    <td
                                        style="padding:14px 8px 14px 16px; font-size:12px; color:#9ca3af; font-weight:600; vertical-align:top;">
                                        {{ loop.index }}
                                    </td>
                                    <!-- Product thumbnail + description -->
                                    <td style="padding:14px 8px; vertical-align:top;">
                                        <table role="presentation" cellspacing="0" cellpadding="0">
                                            <tr>
                                                <!-- Thumbnail placeholder -->
                                                <td valign="top" style="padding-right:10px;">
                                                    <div
                                                        style="width:44px; height:44px; background:linear-gradient(135deg,#d1fae5 0%,#a7f3d0 100%); border-radius:8px; display:flex; align-items:center; justify-content:center; font-size:20px; text-align:center; line-height:44px;">
                                                        üõí
                                                    </div>
                                                </td>
                                                <td valign="middle">
                                                    <div
                                                        style="font-size:13px; font-weight:600; color:#111827; line-height:1.4;">
                                                        {{ item.description }}
                                                    </div>
                                                    <div
                                                        style="font-size:11px; color:#10b981; margin-top:3px; font-weight:500;">
                                                        In Stock ¬∑ Ready to Ship
                                                    </div>
                                                </td>
                                            </tr>
                                        </table>
                                    </td>
                                    <!-- SKU -->
                                    <td style="padding:14px 8px; vertical-align:top;">
                                        <span
                                            style="font-size:11px; color:#6b7280; font-family:monospace; background:#f3f4f6; padding:3px 7px; border-radius:4px;">
                                            SP-{{ '%04d' | format(item.id) }}
                                        </span>
                                    </td>
                                    <!-- Qty -->
                                    <td style="padding:14px 8px; vertical-align:top; text-align:center;">
                                        <span style="font-size:13px; color:#374151; font-weight:600;">{{ item.quantity
                                            }}</span>
                                    </td>
                                    <!-- Unit Price -->
                                    <td style="padding:14px 8px; vertical-align:top; text-align:right;">
                                        <span style="font-size:13px; color:#374151; font-weight:500;">‚Çπ{{
                                            '{:,.2f}'.format(item.price) }}</span>
                                    </td>
                                    <!-- Subtotal -->
                                    <td style="padding:14px 16px 14px 8px; vertical-align:top; text-align:right;">
                                        <span style="font-size:13px; color:#059669; font-weight:700;">‚Çπ{{
                                            '{:,.2f}'.format(item.quantity * item.price) }}</span>
                                    </td>
                                </tr>
                                {% endfor %}

                            </table>
                        </td>
                    </tr>

                    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TOTALS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
                    <tr>
                        <td style="padding:20px 40px 24px 40px;">
                            <table role="presentation" width="100%" cellspacing="0" cellpadding="0">
                                <tr>
                                    <td width="55%">&nbsp;</td>
                                    <td width="45%">
                                        <table role="presentation" width="100%" cellspacing="0" cellpadding="0"
                                            style="background:#f9fafb; border:1px solid #e5e7eb; border-radius:10px; overflow:hidden;">
                                            <!-- Subtotal -->
                                            <tr style="border-bottom:1px solid #e5e7eb;">
                                                <td style="padding:11px 16px; font-size:13px; color:#6b7280;">Subtotal
                                                </td>
                                                <td
                                                    style="padding:11px 16px; font-size:13px; color:#374151; font-weight:600; text-align:right;">
                                                    ‚Çπ{{ '{:,.2f}'.format(invoice.subtotal) }}</td>
                                            </tr>
                                            <!-- Tax -->
                                            <tr style="border-bottom:1px solid #e5e7eb;">
                                                <td style="padding:11px 16px; font-size:13px; color:#6b7280;">Tax &amp;
                                                    Fees</td>
                                                <td
                                                    style="padding:11px 16px; font-size:13px; color:#374151; font-weight:600; text-align:right;">
                                                    ‚Çπ{{ '{:,.2f}'.format(invoice.tax) }}</td>
                                            </tr>
                                            <!-- Total -->
                                            <tr style="background:linear-gradient(90deg,#064e3b 0%,#065f46 100%);">
                                                <td
                                                    style="padding:14px 16px; font-size:14px; color:#d1fae5; font-weight:600;">
                                                    Total (INR)</td>
                                                <td
                                                    style="padding:14px 16px; font-size:18px; color:#ffffff; font-weight:800; text-align:right;">
                                                    ‚Çπ{{ '{:,.2f}'.format(invoice.total_amount) }}</td>
                                            </tr>
                                        </table>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>

                    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TRACKING / SHIPPING / RETURNS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
                    <tr>
                        <td style="padding:0 40px 28px 40px;">
                            <table role="presentation" width="100%" cellspacing="0" cellpadding="0"
                                style="background:#f0fdf4; border:1px solid #bbf7d0; border-radius:12px; overflow:hidden;">

                                <!-- Tracking Number -->
                                <tr style="border-bottom:1px solid #bbf7d0;">
                                    <td style="padding:16px 20px;">
                                        <table role="presentation" cellspacing="0" cellpadding="0" width="100%">
                                            <tr>
                                                <td valign="middle">
                                                    <span style="font-size:16px;">üöö</span>
                                                    <span
                                                        style="font-size:13px; font-weight:700; color:#065f46; margin-left:8px; vertical-align:middle;">Tracking
                                                        Number</span>
                                                </td>
                                                <td align="right">
                                                    <span
                                                        style="font-size:13px; font-family:monospace; color:#059669; font-weight:700; background:#dcfce7; padding:5px 12px; border-radius:6px; letter-spacing:1px;">
                                                        {{ invoice.payment_details or 'IN TRANSIT ‚Äî Processing' }}
                                                    </span>
                                                </td>
                                            </tr>
                                        </table>
                                    </td>
                                </tr>

                                <!-- Shipping Address -->
                                <tr style="border-bottom:1px solid #bbf7d0;">
                                    <td style="padding:16px 20px;">
                                        <div style="font-size:16px; display:inline;">üìç</div>
                                        <span
                                            style="font-size:13px; font-weight:700; color:#065f46; margin-left:8px; vertical-align:middle;">Shipping
                                            Address</span>
                                        <div
                                            style="font-size:13px; color:#047857; margin-top:6px; margin-left:26px; line-height:1.7;">
                                            {% if invoice.ship_to_address %}
                                            {{ invoice.ship_to_address | replace('\n', ' ¬∑ ') }}
                                            {% else %}
                                            Same as billing address on file.
                                            {% endif %}
                                        </div>
                                    </td>
                                </tr>

                                <!-- Return Policy -->
                                <tr>
                                    <td style="padding:16px 20px;">
                                        <div style="font-size:16px; display:inline;">üîÑ</div>
                                        <span
                                            style="font-size:13px; font-weight:700; color:#065f46; margin-left:8px; vertical-align:middle;">Return
                                            &amp; Refund Policy</span>
                                        <div
                                            style="font-size:11px; color:#6b7280; margin-top:6px; margin-left:26px; line-height:1.7;">
                                            Items are eligible for return within <strong>7 days</strong> of delivery if
                                            unused and in original packaging.
                                            To initiate a return, contact our support team at
                                            <a href="mailto:support@sourcepoint.in"
                                                style="color:#059669; text-decoration:none; font-weight:600;">support@sourcepoint.in</a>.
                                            Refunds are processed within 5‚Äì7 business days of return receipt.
                                            Digital goods and gift cards are non-refundable.
                                        </div>
                                    </td>
                                </tr>

                            </table>
                        </td>
                    </tr>

                    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê NOTES (conditional) ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
                    {% if invoice.notes %}
                    <tr>
                        <td style="padding:0 40px 24px 40px;">
                            <table role="presentation" width="100%" cellspacing="0" cellpadding="0"
                                style="background:#fffbeb; border-left:4px solid #f59e0b; border-radius:0 8px 8px 0; padding:14px 18px;">
                                <tr>
                                    <td style="padding:14px 18px;">
                                        <div
                                            style="font-size:12px; font-weight:700; color:#92400e; text-transform:uppercase; letter-spacing:0.5px; margin-bottom:6px;">
                                            üí° Note
                                        </div>
                                        <div style="font-size:13px; color:#78350f; line-height:1.6;">
                                            {{ invoice.notes }}
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                    {% endif %}

                    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê CTA BUTTON ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
                    <tr>
                        <td align="center" style="padding:0 40px 32px 40px;">
                            <a href="#"
                                style="display:inline-block; background:linear-gradient(135deg,#059669 0%,#10b981 100%); color:#ffffff; text-decoration:none; font-size:14px; font-weight:700; padding:14px 36px; border-radius:50px; letter-spacing:0.3px; box-shadow:0 4px 14px rgba(5,150,105,0.35);">
                                View Order Details &rarr;
                            </a>
                        </td>
                    </tr>

                    <!-- Bottom accent stripe -->
                    <tr>
                        <td
                            style="background:linear-gradient(90deg,#059669 0%,#10b981 50%,#34d399 100%); height:4px; font-size:0; line-height:0;">
                            &nbsp;</td>
                    </tr>

                    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê FOOTER ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
                    <tr>
                        <td style="background:#f9fafb; padding:24px 40px; border-top:1px solid #e5e7eb;">
                            <table role="presentation" width="100%" cellspacing="0" cellpadding="0">
                                <tr>
                                    <td align="center">
                                        <p style="margin:0 0 6px 0; font-size:13px; color:#374151; font-weight:600;">
                                            Source Point ‚Äî Your Trusted Online Store
                                        </p>
                                        <p style="margin:0 0 10px 0; font-size:11px; color:#9ca3af;">
                                            Questions? Reply to this email or contact us at
                                            <a href="mailto:support@sourcepoint.in"
                                                style="color:#059669; text-decoration:none;">support@sourcepoint.in</a>
                                        </p>
                                        <p style="margin:0; font-size:10px; color:#d1d5db; line-height:1.7;">
                                            ¬© 2025 Source Point. All rights reserved. &nbsp;¬∑&nbsp;
                                            <a href="#" style="color:#d1d5db; text-decoration:none;">Privacy Policy</a>
                                            &nbsp;¬∑&nbsp;
                                            <a href="#" style="color:#d1d5db; text-decoration:none;">Terms of
                                                Service</a>
                                            &nbsp;¬∑&nbsp;
                                            <a href="#" style="color:#d1d5db; text-decoration:none;">Unsubscribe</a>
                                        </p>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>

                </table>
                <!-- /Card -->

            </td>
        </tr>
    </table>
    <!-- /Outer wrapper -->

</body>

</html>