{% extends "layout.html" %}
{% block title %}Manage Affiliate Ads{% endblock %}
{% block content %}
<div class="space-y-8">
    <h1 class="text-3xl font-bold text-white animate-dynamic">Manage Affiliate Ads</h1>

    <div class="bg-white/5 dark:bg-gray-800/20 rounded-lg shadow-xl p-6 animate-dynamic backdrop-blur-sm border border-white/10">
        <h2 class="text-2xl font-bold text-white mb-4">Add or Update Ad</h2>
        <form action="{{ url_for('manage_ads') }}" method="POST" class="space-y-4">
            <div>
                <label for="ad_name" class="block text-sm font-medium text-gray-300">Ad Name</label>
                <input type="text" name="ad_name" placeholder="e.g., 'Featured Tech Gear'" required class="mt-1 appearance-none block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm bg-gray-700/50 text-white transition">
                <p class="text-xs text-gray-400 mt-1">Give the ad a unique name. If the name already exists, its link will be updated.</p>
            </div>
            <div>
                <label for="affiliate_link" class="block text-sm font-medium text-gray-300">Affiliate Link</label>
                <input type="url" name="affiliate_link" placeholder="https://www.amazon.com/product/..." required class="mt-1 appearance-none block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm bg-gray-700/50 text-white transition">
            </div>
            <button type="submit" class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700">Save Ad</button>
        </form>
    </div>

    <div class="bg-white/5 dark:bg-gray-800/20 rounded-lg shadow-xl p-6 animate-dynamic backdrop-blur-sm border border-white/10">
        <h2 class="text-2xl font-bold text-white mb-4">Current Ads</h2>
        <div class="space-y-4">
            {% for ad in ads %}
                <div class="bg-white/5 dark:bg-gray-700/20 p-4 rounded-lg">
                    <div class="flex justify-between items-start">
                        <p class="font-bold text-lg text-white">{{ ad.ad_name }}</p>
                        <a href="{{ url_for('delete_ad', ad_id=ad.id) }}" class="px-3 py-1 text-xs rounded-md text-white bg-red-600 hover:bg-red-700">Delete</a>
                    </div>
                    <div class="mt-2 text-xs overflow-auto">
                        <p class="text-gray-400">Link: <a href="{{ ad.affiliate_link }}" target="_blank" class="text-indigo-400 hover:underline">{{ ad.affiliate_link }}</a></p>
                    </div>
                </div>
            {% else %}
                <p class="text-gray-400">No ads have been added yet.</p>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}