{% extends "layout.html" %}
{% block title %}View Profile: {{ user.username }}{% endblock %}
{% block content %}
<div class="max-w-4xl mx-auto">
    <div class="bg-white/5 dark:bg-gray-800/20 rounded-lg shadow-xl p-8 animate-dynamic backdrop-blur-sm border border-white/10">
        <div class="flex justify-between items-start">
            <h1 class="text-3xl font-bold text-white mb-6">Viewing Profile: <span class="text-indigo-400">{{ user.username }}</span></h1>
            
            {% if current_user.role == 'admin' %}
            <a href="{{ url_for('admin.edit_user_profile', user_id=user.id) }}" class="px-4 py-2 rounded-md text-white bg-blue-600 hover:bg-blue-700">Edit Profile</a>
            {% endif %}
        </div>
        
        <div class="space-y-6">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label class="block text-sm font-medium text-gray-400">Username</label>
                    <p class="mt-1 text-white">{{ user.username }}</p>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-400">Email Address</label>
                    <p class="mt-1 text-white">{{ user.email }}</p>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-400">Mobile Number</label>
                    <p class="mt-1 text-white">{{ user.mobile_number or 'Not provided' }}</p>
                </div>
            </div>

            {% if user.role not in ['buyer', 'seller'] %}
            <hr class="border-gray-700">

            <div>
                <h2 class="text-xl font-semibold text-white mb-4">Professional Information</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-400">Primary Skill</label>
                        <p class="mt-1 text-white">{{ user.primary_skill or 'Not provided' }}</p>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-400">Experience (Primary Skill)</label>
                        <p class="mt-1 text-white">{{ user.primary_skill_experience or 'Not provided' }}</p>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-400">Secondary Skill</label>
                        <p class="mt-1 text-white">{{ user.secondary_skill or 'Not provided' }}</p>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-400">Experience (Secondary Skill)</label>
                        <p class="mt-1 text-white">{{ user.secondary_skill_experience or 'Not provided' }}</p>
                    </div>
                </div>
            </div>

            {% if user.role == 'candidate' %}
            <hr class="border-gray-700">
            <div>
                <h2 class="text-xl font-semibold text-white mb-4">Resume</h2>
                {% if user.resume_filename %}
                    <a href="{{ user.resume_filename }}" target="_blank" class="text-indigo-400 hover:underline">
                        <i class="fas fa-external-link-alt mr-1"></i> View Resume
                    </a>
                {% else %}
                    <p class="text-gray-400">No resume has been uploaded.</p>
                {% endif %}
            </div>
            {% endif %}
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}